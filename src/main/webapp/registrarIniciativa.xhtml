<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:shiro="http://shiro.apache.org/tags"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:co="http://xmlns.jcp.org/jsf/composite/components">
lang="es">
<ui:composition template="WEB-INF/facelets/template.xhtml">
    <h:outputScript name="primefaces/jquery.js"/>
    <!--
    <ui:define name="headerButton">
        <form method="POST" jsf:id="formulario" novalidate="">
            <a type="submit" jsf:actionListener="#{loginBean.logout()}">Cerrar Sesión</a>
        </form>
    </ui:define>
    -->

    <ui:define name="breadcumTitle">
        <h2>Registrar Iniciativa</h2>
    </ui:define>
    <ui:define name="bsection">
        <co:bsection sectionName="Mis iniciativas"/>
    </ui:define>
    <ui:define name="contenido">
        <div style="margin-top:0px; font-size: 20px ; text-align:center ; align-items: center ; width: 60% ; margin: auto "> 

            <h:form name="sentMessage" id="contactForm">
                <br/>
                <p:messages id="messages" showDetail="true" closable="true">
                    <p:autoUpdate />
                </p:messages>

                <label>Nombre</label>
                <p:inputText style=" height: 50px ; font-size: 20px ; text-align: center" type="text" class="form-control" placeholder="Nombre" id="nombre" binding="#{superNombre}" required="true" />

                <div class="control-group">
                    <div class="form-group floating-label-form-group controls">
                        <label>Area</label>
                        <p:inputText style=" height: 50px ; font-size: 20px ; text-align: center" type="text" class="form-control" placeholder="Area" id="area" binding="#{superArea}" required="true"/>
                    </div>
                    <div class="form-group floating-label-form-group controls">
                        <label>Palabras Clave</label>
                        <p:inputText style=" height: 50px ; font-size: 20px ; text-align: center" type="text" class="form-control" placeholder="PalabrasClave" id="PalabraClave" binding="#{superPalabraClave}" required="true"/>
                        <div>
                            <p:outputLabel for="@previous" value="Cada palabra tiene que ir separada con espacios, ejemplo: 'palabra1 palabra2'" style="color: #6c757d; font-weight: lighter;"/>
                        </div>
                    </div>

                </div>


                <div class="control-group">
                    <div class="form-group floating-label-form-group controls">
                        <br/>

                        <label>Descripción</label>
                        <p:inputTextarea style=" height: 200px ; font-size: 20px" class="form-control" id="descript" rows="5" cols="30" counter="display" maxlength="360"  counterTemplate="{0} caracteres restantes." autoResize="false" binding="#{superDescripcion}"/>
                        <h:outputText id="display" />
                    </div>
                </div>
                <br/>
                <div class="form-group" align="center">
                    <p:commandButton actionListener="#{iniciativaBean.registrarIniciativa(superNombre.value, superArea.value, usuarioBean.getUsuario(loginBean.email), superDescripcion.value,iniciativaBean.getFecha(),superPalabraClave.value)}" id="registro" update="contactForm" value="Registrar" action="#{iniciativaBean.mensaje(superNombre.value)}"></p:commandButton>
                    <p:blockUI block="contactForm" trigger="registro">            
                        <p:graphicImage library="img" name="ajax-loader.gif"/>
                    </p:blockUI>  
                </div>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
</html>